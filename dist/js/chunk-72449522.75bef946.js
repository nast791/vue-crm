(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72449522"],{"13d5":function(e,t,n){"use strict";var r=n("23e7"),i=n("d58f").left,a=n("a640"),o=n("ae40"),c=a("reduce"),s=o("reduce",{1:0});r({target:"Array",proto:!0,forced:!c||!s},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},6859:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"page-title"},[n("h3",[e._v(e._s(e._f("localize")("Menu_Planning")))]),n("h4",[e._v(e._s(e._f("currency")(e.info.bill,"RUB")))])]),e.loading?n("Loader"):e.categories.length?n("section",e._l(e.categories,(function(t){return n("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.tooltip,expression:"it.tooltip"}],key:t.id},[n("p",[n("strong",[e._v(e._s(t.title))]),e._v(" "+e._s(e._f("currency")(t.spend,"RUB"))+" "+e._s(e._f("localize")("Of"))+" "+e._s(e._f("currency")(t.limit,"RUB"))+" ")]),n("div",{staticClass:"progress"},[n("div",{staticClass:"determinate",class:[t.progressColor],style:{width:t.progressPercent+"%"}})])])})),0):n("p",{staticClass:"center"},[e._v(e._s(e._f("localize")("Menu_Planning"))+"."),n("router-link",{attrs:{to:"/categories"}},[e._v(e._s(e._f("localize")("AddFirst")))])],1)],1)},i=[],a=(n("99af"),n("4de4"),n("d81d"),n("13d5"),n("5530")),o=(n("96cf"),n("1da1")),c=n("2f62"),s=n("62ed"),l=n("a0c8"),u={name:"Planning",metaInfo:function(){return{title:this.$title("Menu_Planning")}},data:function(){return{loading:!0,categories:[]}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("fetchRecords");case 2:return n=t.sent,t.next=5,e.$store.dispatch("fetchCategories");case 5:r=t.sent,e.categories=r.map((function(e){var t=n.filter((function(t){return t.categoryId===e.id})).filter((function(e){return"outcome"===e.type})).reduce((function(e,t){return e+ +t.amount}),0),r=100*t/e.limit,i=r>100?100:r,o=r<60?"green":r<100?"yellow":"red",c=e.limit-t,u="".concat(c<0?Object(l["a"])("MoreThan"):Object(l["a"])("Stayed")," ").concat(Object(s["a"])(Math.abs(c)));return Object(a["a"])(Object(a["a"])({},e),{},{progressPercent:i,progressColor:o,spend:t,tooltip:u})})),e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()},computed:Object(a["a"])({},Object(c["c"])(["info"]))},d=u,f=n("2877"),p=Object(f["a"])(d,r,i,!1,null,null,null);t["default"]=p.exports},d58f:function(e,t,n){var r=n("1c0b"),i=n("7b0b"),a=n("44ad"),o=n("50c4"),c=function(e){return function(t,n,c,s){r(n);var l=i(t),u=a(l),d=o(l.length),f=e?d-1:0,p=e?-1:1;if(c<2)while(1){if(f in u){s=u[f],f+=p;break}if(f+=p,e?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:d>f;f+=p)f in u&&(s=n(s,u[f],f,l));return s}};e.exports={left:c(!1),right:c(!0)}}}]);